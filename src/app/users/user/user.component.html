<app-header
  *ngIf="userDetails"
  [pageTitle]="userDetails?.fullName"
  path="User / {{ userDetails?.fullName }}"
  icon="mdi-account"
></app-header>
<div class="row">
  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <div class="alert alert-danger" role="alert" *ngIf="error">
          Error: {{ error }}
        </div>
        <div class="alert alert-success" role="alert" *ngIf="response">
          {{ response }}
        </div>
        <form
          class="pt-3"
          [formGroup]="userUpdateForm"
          (ngSubmit)="updateUserData()"
        >
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <label for="fullName">User Full Name</label>
                <input
                  type="text"
                  formControlName="fullName"
                  name="fullName"
                  class="form-control form-control-lg"
                  id="fullName"
                  placeholder="User Full Name"
                />
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label for="email">User Email</label>
                <input
                  type="email"
                  formControlName="email"
                  class="form-control form-control-lg"
                  id="email"
                  placeholder="Email"
                />
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <label for="userType">User Role</label>
                <select
                  class="form-control form-control-lg"
                  id="userType"
                  name="userType"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="userType"
                >
                  <option
                    *ngFor="let userType of userTypes"
                    [ngValue]="userType.id"
                  >
                    {{ userType.name }}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label for="password">User Default Password</label>
                <input
                  type="password"
                  formControlName="password"
                  class="form-control form-control-lg"
                  id="password"
                  placeholder="Default Password"
                />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <label for="phoneNumber">User Phone Number</label>
                <input
                  type="text"
                  formControlName="phoneNumber"
                  name="phoneNumber"
                  class="form-control form-control-lg"
                  id="phoneNumber"
                  placeholder="Phone Number"
                />
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label for="address">User Address</label>
                <input
                  type="text"
                  formControlName="address"
                  class="form-control form-control-lg"
                  id="address"
                  placeholder="Address"
                />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6" *ngIf="userType === 'Delivery Agent'">
              <div class="form-group">
                <label for="vehicleNo">Delivery Agent's Vehicle No</label>
                <input
                  type="text"
                  formControlName="vehicleNo"
                  name="vehicleNo"
                  class="form-control form-control-lg"
                  id="vehicleNo"
                  placeholder="Vehicle Plate Number"
                />
              </div>
            </div>
            <div class="col-lg-6" *ngIf="userType === 'Vendor'">
              <div class="form-group">
                <label for="pricePackage">Vendor's Price Package(â‚¦)</label>
                <input
                  type="number"
                  formControlName="pricePackage"
                  class="form-control form-control-lg"
                  id="pricePackage"
                  name="pricePackage"
                  placeholder="Price Package(per kg)"
                />
              </div>
            </div>
          </div>
          <div class="row" *ngIf="userType === 'Vendor'">
            <div class="col-lg-6">
              <div class="form-group">
                <label for="pricePackage">Vendor's Location Latitude</label>
                <input
                  type="number"
                  formControlName="latitude"
                  name="latitude"
                  class="form-control form-control-lg"
                  id="latitude"
                  placeholder="Latitude"
                />
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label for="pricePackage">Vendor's Location Longitude</label>
                <input
                  type="number"
                  formControlName="longitude"
                  class="form-control form-control-lg"
                  id="longitude"
                  name="longitude"
                  placeholder="Longitude"
                />
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="pricePackage">User's Referral ID</label>
            <input
              type="text"
              formControlName="referralId"
              class="form-control form-control-lg"
              id="referralId"
              name="referralId"
              placeholder="Referral Id"
            />
          </div>

          <div class="mt-3">
            <button
              class="
                btn btn-block btn-primary btn-lg
                font-weight-medium
                auth-form-btn
              "
              [disabled]="!userUpdateForm.valid"
            >
              Update User
            </button>
          </div>

          <div class="row">
            <div class="col-lg-6"></div>
            <div class="col-lg-6"></div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
